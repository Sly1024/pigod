<pigod-panel class="panel panel-default" style="height:{isCollapsed?'44px':''}">

	<header class="panel-heading" onmousedown={toggleCollapse}>
		<span name="yield_title" class="panel-title">
			<yield from="title"/>
		</span>
	</header>
	
	<div name="yield_out_body" class="outside-body">
		<yield from="outside-body"/>
	</div>
	
	<div name="yield_body" class="panel-body">
		<yield from="body"/>
	</div>

	<style scoped>
		:scope {
			width: 500px;
			height: 350px;
			overflow: hidden;
			transition-property: height;
			transition-duration: 0.2s;
			display: flex;
			flex-direction: column;
		}
		.panel-body {
			overflow: auto;			
		}
		.panel-heading {
			flex-shrink: 0;
		}
		.outside-body {
			flex-shrink: 0;
		}
	</style>
	
	<script type="text/es6arrow">
		var parent = this.parent;
		
		this.model = parent;
		
		this.on('mount', () => {
			[this.yield_title, this.yield_out_body, this.yield_body].forEach(container => {
				[].forEach.call(container.querySelectorAll('[name]'), el => {
					var name = el.getAttribute('name');
					if (!parent.hasOwnProperty(name)) {
						parent[name] = el;
					}
				});
			});
			parent.trigger('panelmount');
		});
		
		toggleCollapse() {
			this.isCollapsed = !this.isCollapsed;
		}
	</script>
	
</pigod-panel>

